!function(t){"use strict";try{chrome.extension.getBackgroundPage().tgs.setViewGlobals(t)}catch(t){return void window.setTimeout((()=>window.location.reload()),1e3)}var e={};function n(t){var e=t&&t.timerUp&&t&&"-"!==t.timerUp?new Date(t.timerUp).toLocaleString():"-",n="";return n+="<tr>",n+="<td>"+(t&&t.windowId?t.windowId:"?")+"</td>",n+="<td>"+(t&&t.tabId?t.tabId:"?")+"</td>",n+="<td>"+(t&&t.tab?t.tab.index:"?")+"</td>",n+="<td>"+(t&&t.tab?gsUtils.htmlEncode(t.tab.title):"?")+"</td>",n+="<td>"+e+"</td>",n+="<td>"+(t?t.status:"?")+"</td>",n+="</tr>"}function o(t,e,n){document.getElementById(t).innerHTML=e(),document.getElementById(t).onclick=function(o){const r=!e();n(r),document.getElementById(t).innerHTML=r}}gsUtils.documentReadyAndLocalisedAsPromsied(document).then((async function(){await async function(){const t=await gsChrome.tabsQuery(),o=[];for(const[n,r]of t.entries())e[t[n].id]=t[n],o.push(new Promise((t=>tgs.getDebugInfo(r.id,(e=>{e.tab=r,t(e)})))));const r=await Promise.all(o);for(const t of r){var s,i=document.getElementById("gsProfilerBody");s=n(t),i.innerHTML=i.innerHTML+s}}(),o("toggleDebugInfo",(()=>gsUtils.isDebugInfo()),(t=>gsUtils.setDebugInfo(t))),o("toggleDebugError",(()=>gsUtils.isDebugError()),(t=>gsUtils.setDebugError(t))),o("toggleDiscardInPlaceOfSuspend",(()=>gsStorage.getOption(gsStorage.DISCARD_IN_PLACE_OF_SUSPEND)),(t=>{gsStorage.setOptionAndSync(gsStorage.DISCARD_IN_PLACE_OF_SUSPEND,t)})),o("toggleUseAlternateScreenCaptureLib",(()=>gsStorage.getOption(gsStorage.USE_ALT_SCREEN_CAPTURE_LIB)),(t=>{gsStorage.setOptionAndSync(gsStorage.USE_ALT_SCREEN_CAPTURE_LIB,t)})),document.getElementById("claimSuspendedTabs").onclick=async function(t){const e=await gsChrome.tabsQuery();for(const t of e)if(gsUtils.isSuspendedTab(t,!0)&&t.url.indexOf(chrome.runtime.id)<0){const e=t.url.replace(gsUtils.getRootUrl(t.url),chrome.runtime.id);await gsChrome.tabsUpdate(t.id,{url:e})}};var t=`chrome://extensions/?id=${chrome.runtime.id}`;document.getElementById("backgroundPage").setAttribute("href",t),document.getElementById("backgroundPage").onclick=function(){chrome.tabs.create({url:t})}}))}(this);