var historyItems=function(e){"use strict";if(chrome.extension.getBackgroundPage()&&chrome.extension.getBackgroundPage().tgs)return chrome.extension.getBackgroundPage().tgs.setViewGlobals(e),{createSessionHtml:function(e,a){e.windows=e.windows||[];var i,r,t,o,d,l,c,h,g,p,u=e.sessionId===gsSession.getSessionId()?"current":e.name?"saved":"recent",m=e.windows.length,_=e.windows.reduce((function(e,s){return e+s.tabs.length}),0);return p="saved"===u?e.name:gsUtils.getHumanDate(e.date),p+="&nbsp;&nbsp;<small>("+m+n(" "+chrome.i18n.getMessage("js_history_window").toLowerCase(),m)+", "+_+n(" "+chrome.i18n.getMessage("js_history_tab").toLowerCase(),_)+")</small>",c=s("i",{class:"sessionIcon icon icon-plus-squared-alt"}),l=s("div",{class:"sessionContents"}),(r=s("span",{class:"sessionLink"})).innerHTML=p,t=s("a",{class:"groupLink saveLink",href:"#"},chrome.i18n.getMessage("js_history_save")),o=s("a",{class:"groupLink deleteLink",href:"#"},chrome.i18n.getMessage("js_history_delete")),h=s("a",{class:"groupLink resuspendLink",href:"#"},chrome.i18n.getMessage("js_history_resuspend")),g=s("a",{class:"groupLink reloadLink",href:"#"},chrome.i18n.getMessage("js_history_reload")),d=s("a",{class:"groupLink exportLink",href:"#"},chrome.i18n.getMessage("js_history_export")),(i=s("div",{class:"sessionContainer"})).appendChild(c),i.appendChild(r),a&&"current"!==u&&(i.appendChild(h),i.appendChild(g)),a&&i.appendChild(d),a&&"saved"!==u&&i.appendChild(t),a&&"current"!==u&&i.appendChild(o),i.appendChild(l),i},createWindowHtml:function(e,n,a){var i,r,t,o;return i=s("div",{class:"windowContainer"}),r=s("span",{},chrome.i18n.getMessage("js_history_window")+" "+(n+1)+": "),t=s("a",{class:"groupLink resuspendLink ",href:"#"},chrome.i18n.getMessage("js_history_resuspend")),o=s("a",{class:"groupLink reloadLink",href:"#"},chrome.i18n.getMessage("js_history_reload")),i.appendChild(r),a&&(i.appendChild(t),i.appendChild(o)),i},createTabHtml:async function(e,n){var a,i,r,t;return a=e.sessionId?s("div",{class:"tabContainer","data-tabId":e.id||e.url,"data-url":e.url}):s("div",{class:"tabContainer","data-url":e.url}),t=s("span",{class:"itemHover removeLink"},"✖"),i=s("img",{src:(await gsFavicon.getFaviconMetaData(e)).normalisedDataUrl,height:"16px",width:"16px"}),r=s("a",{class:"historyLink",href:e.url,target:"_blank"},e.title&&e.title.length>1?e.title:e.url),n&&a.appendChild(t),a.appendChild(i),a.appendChild(r),a.appendChild(s("br")),a}};function s(e,s,n){var a=document.createElement(e);return(a=function(e,s){for(var n in s)s.hasOwnProperty(n)&&e.setAttribute(n,s[n]);return e}(a,s=s||{})).innerHTML=gsUtils.htmlEncode(n||""),a}function n(e,s){return e+(s>1?chrome.i18n.getMessage("js_history_plural"):"")}}(this);